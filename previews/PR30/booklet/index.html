<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Booklet · ToQUBO.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/extra_styles.css" rel="stylesheet" type="text/css"/><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="ToQUBO.jl logo"/></a><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../manual/">Manual</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li class="is-active"><a class="tocitem" href>Booklet</a><ul class="internal"><li><a class="tocitem" href="#QUBO"><span>QUBO</span></a></li><li><a class="tocitem" href="#Pseudo-Boolean-Optimization"><span>Pseudo-Boolean Optimization</span></a></li><li><a class="tocitem" href="#Virtual-Mapping"><span>Virtual Mapping</span></a></li><li><a class="tocitem" href="#MIQP-Solvers"><span>MIQP Solvers</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Booklet</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Booklet</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/psrenergy/ToQUBO.jl/blob/master/docs/src/booklet.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ToQUBO.jl-Booklet"><a class="docs-heading-anchor" href="#ToQUBO.jl-Booklet">ToQUBO.jl Booklet</a><a id="ToQUBO.jl-Booklet-1"></a><a class="docs-heading-anchor-permalink" href="#ToQUBO.jl-Booklet" title="Permalink"></a></h1><p>This booklet aims to gather the theoretical and practical details behind <code>ToQUBO</code> and provide documentation for project internals. The target audience includes, among others, advanced users and those willing to contribute to the project. The latter are advised to read the following sections, as they give a glimpse of the ideas employed up to now.</p><h2 id="QUBO"><a class="docs-heading-anchor" href="#QUBO">QUBO</a><a id="QUBO-1"></a><a class="docs-heading-anchor-permalink" href="#QUBO" title="Permalink"></a></h2><p class="math-container">\[\begin{array}{rl}
   \min        &amp; \mathbf{x}^{\intercal} Q\,\mathbf{x} \\
   \text{s.t.} &amp; \mathbf{x} \in \mathbb{B}^{n}
\end{array}\]</p><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.isqubo" href="#ToQUBO.isqubo"><code>ToQUBO.isqubo</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">isqubo(model::MOI.ModelLike)</code></pre><p>Tells if a given model is ready to be interpreted as a QUBO model.</p><p>For it to be true, a few conditions must be met:</p><ol><li>All variables must be binary (<code>MOI.VariableIndex ∈ MOI.ZeroOne</code>)</li><li>No other constraints are allowed</li><li>The objective function must be of type <code>MOI.ScalarQuadraticFunction</code>, <code>MOI.ScalarAffineFunction</code> or <code>MOI.VariableIndex</code></li><li>The objective sense must be either <code>MOI.MIN_SENSE</code> or <code>MOI.MAX_SENSE</code></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/qubo.jl#L2-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.toqubo" href="#ToQUBO.toqubo"><code>ToQUBO.toqubo</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">toqubo(T::Type, source::MOI.ModelLike, optimizer::Union{Nothing, Type{&lt;:MOI.AbstractOptimizer}} = nothing)
toqubo(source::MOI.ModelLike, optimizer::Union{Nothing, Type{&lt;:MOI.AbstractOptimizer}} = nothing)</code></pre><p>Low-level interface to create a <code>::VirtualQUBOModel{T}</code> from <code>::MOI.ModelLike</code> instance. If provided, an <code>::MOI.AbstractOptimizer</code> is attached to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/qubo.jl#L55-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.toqubo!" href="#ToQUBO.toqubo!"><code>ToQUBO.toqubo!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">toqubo!(model::VirtualQUBOModel{T}) where {T}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/qubo.jl#L74-L76">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.toqubo_sense!" href="#ToQUBO.toqubo_sense!"><code>ToQUBO.toqubo_sense!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">toqubo_sense!(model::VirtualQUBOModel)</code></pre><p>Copies <code>MOI.ObjectiveSense</code> from <code>model.source_model</code> to <code>model.target_model</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/qubo.jl#L134-L138">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.toqubo_variables!" href="#ToQUBO.toqubo_variables!"><code>ToQUBO.toqubo_variables!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">toqubo_variables!(model::VirtualQUBOModel{T}) where {T}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/qubo.jl#L151-L153">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.toqubo_constraint!" href="#ToQUBO.toqubo_constraint!"><code>ToQUBO.toqubo_constraint!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">toqubo_constraint!(model::VirtualQUBOModel{T}, F::Type{&lt;:SAF{T}}, S::Type{&lt;:EQ{T}}) where {T}
toqubo_constraint!(model::VirtualQUBOModel{T}, F::Type{&lt;:SAF{T}}, S::Type{&lt;:LT{T}}) where {T}
toqubo_constraint!(model::VirtualQUBOModel{T}, F::Type{&lt;:SQF{T}}, S::Type{&lt;:EQ{T}}) where {T}
toqubo_constraint!(model::VirtualQUBOModel{T}, F::Type{&lt;:SQF{T}}, S::Type{&lt;:LT{T}}) where {T}
toqubo_constraint!(::VirtualQUBOModel{T}, ::Type{&lt;:VI}, ::Type{&lt;:Union{MOI.ZeroOne, MOI.Integer, MOI.Interval{T}, MOI.LessThan{T}, MOI.GreaterThan{T}}}) where {T}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/qubo.jl#L332-L338">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.toqubo_objective!" href="#ToQUBO.toqubo_objective!"><code>ToQUBO.toqubo_objective!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">toqubo_objective!(model::VirtualQUBOModel{T}, F::Type{&lt;:VI}) where {T}
toqubo_objective!(model::VirtualQUBOModel{T}, F::Type{&lt;:SAF{T}}) where {T}
toqubo_objective!(model::VirtualQUBOModel{T}, F::Type{&lt;:SQF{T}}) where {T}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/qubo.jl#L273-L277">source</a></section></article><h2 id="Pseudo-Boolean-Optimization"><a class="docs-heading-anchor" href="#Pseudo-Boolean-Optimization">Pseudo-Boolean Optimization</a><a id="Pseudo-Boolean-Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Pseudo-Boolean-Optimization" title="Permalink"></a></h2><p>Internally, problems are represented through a Pseudo-Boolean Optimization (PBO) framework. The main goal is to represent a given problem using a Pseudo-Boolean Function (PBF) since there is an immediate correspondence between quadratic PBFs and QUBO forms.</p><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.PBO.PseudoBooleanFunction" href="#ToQUBO.PBO.PseudoBooleanFunction"><code>ToQUBO.PBO.PseudoBooleanFunction</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PseudoBooleanFunction{S, T}(c::T)
PseudoBooleanFunction{S, T}(ps::Pair{Vector{S}, T}...)</code></pre><p>A Pseudo-Boolean Function <span>$f \in \mathscr{F}$</span> over some field <span>$\mathbb{T}$</span> takes the form</p><p class="math-container">\[f(\mathbf{x}) = \sum_{\omega \in \Omega\left[f\right]} c_\omega \prod_{j \in \omega} \mathbb{x}_j\]</p><p>where each <span>$\Omega\left[{f}\right]$</span> is the multi-linear representation of <span>$f$</span> as a set of terms. Each term is given by a unique set of indices <span>$\omega \subseteq \mathbb{S}$</span> related to some coefficient <span>$c_\omega \in \mathbb{T}$</span>. We say that <span>$\omega \in \Omega\left[{f}\right] \iff c_\omega \neq 0$</span>. Variables <span>$\mathbf{x}_i$</span> are indeed boolean, thus <span>$f : \mathbb{B}^{n} \to \mathbb{T}$</span>.</p><p><strong>References</strong></p><ul><li>[1] Endre Boros, Peter L. Hammer, Pseudo-Boolean optimization, Discrete Applied Mathematics, 2002 <a href="https://doi.org/10.1016/S0166-218X(01)00341-9">{doi}</a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/pbo.jl#L59-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.PBO.residual" href="#ToQUBO.PBO.residual"><code>ToQUBO.PBO.residual</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">residual(f::PBF{S, T}, i::S) where {S, T}
residual(f::PBF{S, T}, i::Int) where {S, T}</code></pre><p>The residual of function <span>$f \in \mathscr{F}$</span> with respect to the <span>$i$</span>-th variable.</p><p class="math-container">\[    \Theta_i f(\mathbf{x}) = f(\mathbf{x}) - \mathbf{x}_i\, \Delta_i f(\mathbf{x}) =
    \sum_{\omega \in \Omega\left[{f}\right] \setminus \left\{{i}\right\}}
    c_{\omega} \prod_{k \in \omega} \mathbf{x}_k\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/pbo.jl#L563-L574">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.PBO.derivative" href="#ToQUBO.PBO.derivative"><code>ToQUBO.PBO.derivative</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">derivative(f::PBF{S, T}, i::S) where {S, T}
derivative(f::PBF{S, T}, i::Int) where {S, T}</code></pre><p>The partial derivate of function <span>$f \in \mathscr{F}$</span> with respect to the <span>$i$</span>-th variable.</p><p class="math-container">\[    \Delta_i f(\mathbf{x}) = \frac{\partial f(\mathbf{x})}{\partial \mathbf{x}_i} =
    \sum_{\omega \in \Omega\left[{f}\right] \setminus \left\{{i}\right\}}
    c_{\omega \cup \left\{{i}\right\}} \prod_{k \in \omega} \mathbf{x}_k\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/pbo.jl#L529-L540">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.PBO.gradient" href="#ToQUBO.PBO.gradient"><code>ToQUBO.PBO.gradient</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">gradient(f::PBF)</code></pre><p>Computes the gradient of <span>$f \in \mathscr{F}$</span> where the <span>$i$</span>-th derivative is given by <a href="#ToQUBO.PBO.derivative"><code>derivative</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/pbo.jl#L552-L556">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.PBO.gap" href="#ToQUBO.PBO.gap"><code>ToQUBO.PBO.gap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">gap(f::PBF{S, T}; bound::Symbol=:loose) where {S, T}</code></pre><p>Computes the least upper bound for the greatest variantion possible under some <span>$f \in \mathscr{F}$</span> i. e.</p><p class="math-container">\[\begin{array}{r l}
    \min        &amp; M \\
    \text{s.t.} &amp; \left|{f(\mathbf{x}) - f(\mathbf{y})}\right| \le M ~~ \forall \mathbf{x}, \mathbf{y} \in \mathbb{B}^{n} 
\end{array}\]</p><p>A simple approach, avaiable using the <code>bound=:loose</code> parameter, is to define</p><p class="math-container">\[M \triangleq \sum_{\omega \neq \varnothing} \left|{c_\omega}\right|\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/pbo.jl#L476-L492">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.PBO.sharpness" href="#ToQUBO.PBO.sharpness"><code>ToQUBO.PBO.sharpness</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sharpness(f::PBF{S, T}; bound::Symbol=:loose, tol::T = T(1e-6)) where {S, T&lt;:AbstractFloat}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/pbo.jl#L505-L507">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.PBO.discretize" href="#ToQUBO.PBO.discretize"><code>ToQUBO.PBO.discretize</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">discretize(f::PBF{S, T}; tol::T) where {S, T}</code></pre><p>For a given function <span>$f \in \mathscr{F}$</span> written as</p><p class="math-container">\[    f\left({\mathbf{x}}\right) = \sum_{\omega \in \Omega\left[{f}\right]} c_\omega \prod_{i \in \omega} \mathbf{x}_i\]</p><p>computes an approximate function  <span>$g : \mathbb{B}^{n} \to \mathbb{Z}$</span> such that</p><p class="math-container">\[    \argmin_{\mathbf{x} \in \mathbb{B}^{n}} g\left({\mathbf{x}}\right) = \argmin_{\mathbf{x} \in \mathbb{B}^{n}} f\left({\mathbf{x}}\right)\]</p><p>This is done by rationalizing every coefficient <span>$c_\omega$</span> according to some tolerance <code>tol</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/pbo.jl#L729-L746">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.PBO.relaxed_gcd" href="#ToQUBO.PBO.relaxed_gcd"><code>ToQUBO.PBO.relaxed_gcd</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">relaxed_gcd(x::T, y::T; tol::T = T(1e-6)) where {T &lt;: AbstractFloat}</code></pre><p>We define two real numbers <span>$x$</span> and <span>$y$</span> to be <span>$\tau$</span>-comensurable if, for some <span>$\tau &gt; 0$</span> there exists a continued fractions convergent <span>$p_{k} \div q_{k}$</span> such that</p><p class="math-container">\[    \left| {q_{k} x - p_{k} y} \right| \le \tau\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/pbo.jl#L26-L34">source</a></section></article><h3 id="Quadratization"><a class="docs-heading-anchor" href="#Quadratization">Quadratization</a><a id="Quadratization-1"></a><a class="docs-heading-anchor-permalink" href="#Quadratization" title="Permalink"></a></h3><p>In order to successfully achieve a QUBO formulation, sometimes it is needed to quadratize the resulting PBF, i.e., reduce its degree until reaching the quadratic case. There are many quadratization methods available, and <code>ToQUBO</code> implements a few of them.</p><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.PBO.quadratize" href="#ToQUBO.PBO.quadratize"><code>ToQUBO.PBO.quadratize</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">quadratize(f::PBF{S, T}; slack::Any) where {S, T}</code></pre><p>Quadratizes a given PBF, i.e. creates a function <span>$g \in \mathscr{F}^{2}$</span> from <span>$f \in \mathscr{F}^{k}, k \ge 3$</span>.</p><p>A function <span>$f : 2^{S} \to \mathbb{R}$</span> is said to be submodular if</p><p class="math-container">\[f(X \cup Y) + f(X \cap Y) \le f(X) + f(Y) \forall X, Y \subset S\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/pbo.jl#L887-L896">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.PBO.@quadratization" href="#ToQUBO.PBO.@quadratization"><code>ToQUBO.PBO.@quadratization</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@quadratization(name, nsv, nst)</code></pre><p>Defines a new quadratization technique.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/pbo.jl#L772-L776">source</a></section></article><h2 id="Virtual-Mapping"><a class="docs-heading-anchor" href="#Virtual-Mapping">Virtual Mapping</a><a id="Virtual-Mapping-1"></a><a class="docs-heading-anchor-permalink" href="#Virtual-Mapping" title="Permalink"></a></h2><p>During reformulation, <code>ToQUBO</code> holds two distinct models, namely the <em>Source Model</em> and the <em>Target Model</em>. The source model is a generic <code>MOI</code> model restricted to the supported constraints. The target one is on the QUBO form used during the solving process. Both lie within a <em>Virtual Model</em>, which provides the necessary API integration and keeps all variable and constraint mapping tied together.</p><p>This is done in a transparent fashion for both agents since the user will mostly interact with the presented model, and the solvers will only access the generated one.</p><h3 id="Virtual-Variables"><a class="docs-heading-anchor" href="#Virtual-Variables">Virtual Variables</a><a id="Virtual-Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Virtual-Variables" title="Permalink"></a></h3><p>Every virtual model stores a collection of virtual variables, intended to provide a link between those in the source and those to be created in the target model. Each virtual variable stores enconding information for later expansion and evaluation.</p><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.VirtualMapping.VirtualVariable" href="#ToQUBO.VirtualMapping.VirtualVariable"><code>ToQUBO.VirtualMapping.VirtualVariable</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VirtualVariable{S, T}(
    newvar::Function,
    source::Union{S, Nothing};
    bits::Union{Int, Nothing},
    tech::Symbol,
    name::Union{Symbol, Nothing}=nothing,
    α::T=zero(T),
    β::T=one(T)
) where {S, T}</code></pre><p>The Virtual Variable Mapping</p><p><strong>Variable Expansion techniques:</strong></p><ul><li><code>:𝔹</code> - Used when a boolean variable is to be mirrored.</li><li><code>:ℤ₂</code> - Binary expansion for integer variable.</li><li><code>:ℤ₁</code> - Unary expansion for integer variable.</li><li><code>:ℝ₂</code> - Binary expansion for real variable.</li><li><code>:ℝ₁</code> - Unary expansion for real variable.</li></ul><p><strong>References:</strong></p><ul><li>[1] Chancellor, N. (2019). Domain wall encoding of discrete variables for quantum annealing and QAOA. <em>Quantum Science and Technology</em>, <em>4</em>(4), 045004. <a href="https://doi.org/10.1088/2058-9565/ab33c2">{doi}</a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/virtual.jl#L16-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.VirtualMapping.mapvar!" href="#ToQUBO.VirtualMapping.mapvar!"><code>ToQUBO.VirtualMapping.mapvar!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mapvar!(model::AbstractVirtualModel{T}, v::VirtualMOIVariable{T}) where {T}</code></pre><p>Maps newly created virtual variable <code>v</code> within the virtual model structure. It follows these steps:</p><ol><li>Maps <code>v</code>&#39;s source to it in the model&#39;s <code>source</code> mapping.</li><li>For every one of <code>v</code>&#39;s targets, maps it to itself and adds a binary constraint to it.</li><li>Adds <code>v</code> to the end of the model&#39;s <code>varvec</code>.  </li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/virtual.jl#L263-L271">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.VirtualMapping.expandℝ!" href="#ToQUBO.VirtualMapping.expandℝ!"><code>ToQUBO.VirtualMapping.expandℝ!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expandℝ!(model::QUBOModel{T}, src::VI; bits::Int, name::Symbol, α::T, β::T, semi::Bool) where T</code></pre><p>Real Binary Expansion within the closed interval <span>$[\alpha, \beta]$</span>.</p><p>For a given variable <span>$x \in [\alpha, \beta]$</span> we approximate it by</p><p class="math-container">\[x \approx \alpha + \frac{(\beta - \alpha)}{2^{n} - 1} \sum_{i=0}^{n-1} {2^{i}\, y_i}\]</p><p>where <span>$n$</span> is the number of bits and <span>$y_i \in \mathbb{B}$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/virtual.jl#L289-L301">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.VirtualMapping.slackℝ!" href="#ToQUBO.VirtualMapping.slackℝ!"><code>ToQUBO.VirtualMapping.slackℝ!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">slackℝ!(model::AbstractVirtualModel{T}; name::Symbol, α::T, β::T, semi::Bool) where T</code></pre><p>Adds real slack variable according to <a href="#ToQUBO.VirtualMapping.expandℝ!"><code>expandℝ!</code></a>&#39;s expansion method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/virtual.jl#L323-L327">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.VirtualMapping.expandℤ!" href="#ToQUBO.VirtualMapping.expandℤ!"><code>ToQUBO.VirtualMapping.expandℤ!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expandℤ!(model::QUBOModel{T}, src::VI; name::Symbol, α::T, β::T, semi::Bool) where T</code></pre><p>Integer Binary Expansion within the closed interval <span>$[\left\lceil{\alpha}\right\rceil, \left\lfloor{\beta}\right\rfloor]$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/virtual.jl#L348-L352">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.VirtualMapping.slackℤ!" href="#ToQUBO.VirtualMapping.slackℤ!"><code>ToQUBO.VirtualMapping.slackℤ!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">slackℤ!(model::AbstractVirtualModel{T}; name::Symbol, α::T, β::T) where {T}</code></pre><p>Adds integer slack variable according to <a href="#ToQUBO.VirtualMapping.expandℤ!"><code>expandℤ!</code></a>&#39;s expansion method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/virtual.jl#L372-L376">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.VirtualMapping.mirror𝔹!" href="#ToQUBO.VirtualMapping.mirror𝔹!"><code>ToQUBO.VirtualMapping.mirror𝔹!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mirror𝔹!(model::AbstractVirtualModel{T}, src::Union{VI, Nothing}; name::Symbol) where T</code></pre><p>Simply crates a virtual-mapped <em>Doppelgänger</em> into the destination model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/virtual.jl#L395-L399">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.VirtualMapping.slack𝔹!" href="#ToQUBO.VirtualMapping.slack𝔹!"><code>ToQUBO.VirtualMapping.slack𝔹!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">slack𝔹!(model::AbstractVirtualModel{T}; name::Symbol) where {T}</code></pre><p>Adds a binary slack variable to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/virtual.jl#L414-L418">source</a></section></article><h3 id="Virtual-Models"><a class="docs-heading-anchor" href="#Virtual-Models">Virtual Models</a><a id="Virtual-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Virtual-Models" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.VirtualMapping.AbstractVirtualModel" href="#ToQUBO.VirtualMapping.AbstractVirtualModel"><code>ToQUBO.VirtualMapping.AbstractVirtualModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractVirtualModel{T} &lt;: MOI.AbstractOptimizer end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/virtual.jl#L257-L259">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.VirtualQUBOModel" href="#ToQUBO.VirtualQUBOModel"><code>ToQUBO.VirtualQUBOModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VirtualQUBOModel{T}(optimizer::Union{Nothing, Type{&lt;:MOI.AbstractOptimizer}} = nothing) where {T}</code></pre><p>This QUBO Virtual Model links the final QUBO formulation to the original one, allowing variable value retrieving and other features.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/model.jl#L93-L97">source</a></section></article><h3 id="Annealing-and-Sampling"><a class="docs-heading-anchor" href="#Annealing-and-Sampling">Annealing &amp; Sampling</a><a id="Annealing-and-Sampling-1"></a><a class="docs-heading-anchor-permalink" href="#Annealing-and-Sampling" title="Permalink"></a></h3><p><code>ToQUBO</code>&#39;s main goal is to benefit from non-deterministic samplers, especially <em>Quantum Adiabatic</em> devices and other <em>Annealing</em> machines. A few <code>MOI</code>-compliant interfaces for annealers and samplers are bundled within <code>ToQUBO</code> via the <code>Anneal.jl</code> submodule and package prototype. Some of them are presented below.</p><h3 id="Quantum-Annealing"><a class="docs-heading-anchor" href="#Quantum-Annealing">Quantum Annealing</a><a id="Quantum-Annealing-1"></a><a class="docs-heading-anchor-permalink" href="#Quantum-Annealing" title="Permalink"></a></h3><p>Interfacing with <a href="https://www.dwavesys.com/">D-Wave</a>&#39;s quantum computers is one of the milestones we expect to achieve with this package. Like other proprietary optimization resources such as <a href="https://gurobi.com">Gurobi</a> and <a href="https://www.fico.com/en/products/fico-xpress-solver">FICO® Xpress</a>, this requires licensing and extra steps are needed to get access to it. In a first moment, for those willing to get started, the <em>Simulated Annealing</em> optimizer might be enough.</p><p>While in <code>JuMP</code>, run <code>using Anneal</code> and look for <code>QuantumAnnealer.Optimizer</code>.</p><h3 id="Simulated-Annealing"><a class="docs-heading-anchor" href="#Simulated-Annealing">Simulated Annealing</a><a id="Simulated-Annealing-1"></a><a class="docs-heading-anchor-permalink" href="#Simulated-Annealing" title="Permalink"></a></h3><p>Provided by D-Wave&#39;s open-source code libraries, this <a href="https://en.wikipedia.org/wiki/Simulated_annealing">Simulated Annealing</a> engine implements some of the features and configuration you would find using the Quantum API. Its adoption is recommended for basic usage, tests, and during early research steps due to its simplicity and ease of use. It does not implement the most advanced Simulated Annealing algorithm available but performs fairly well on small instances. <code>Anneal.jl</code> exports this interface as <code>SimulatedAnnealer.Optimizer</code>.</p><h3 id="Random-Sampling"><a class="docs-heading-anchor" href="#Random-Sampling">Random Sampling</a><a id="Random-Sampling-1"></a><a class="docs-heading-anchor-permalink" href="#Random-Sampling" title="Permalink"></a></h3><p>This sampler is implemented for test purposes and simply assigns 0 or 1 to each variable according to a given probability bias <span>$0 \le p \le 1$</span>, which defaults to <span>$p = 0.5$</span>. After running the <code>using Anneal</code> command, <code>RandomSampler.Optimizer</code> will be available.</p><h3 id="Exact-Solver-(Exaustive-Enumeration)"><a class="docs-heading-anchor" href="#Exact-Solver-(Exaustive-Enumeration)">Exact Solver (Exaustive Enumeration)</a><a id="Exact-Solver-(Exaustive-Enumeration)-1"></a><a class="docs-heading-anchor-permalink" href="#Exact-Solver-(Exaustive-Enumeration)" title="Permalink"></a></h3><p>Also made to be used in tests, the <code>ExactSolver.Optimizer</code> interface runs through all possible state configurations, which implies in an exponential time complexity on the number of variables. Thus, only problems with no more than 20 variables should be provided.</p><h2 id="MIQP-Solvers"><a class="docs-heading-anchor" href="#MIQP-Solvers">MIQP Solvers</a><a id="MIQP-Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#MIQP-Solvers" title="Permalink"></a></h2><p>The most accessible alternative to Annealers and Samplers are Mixed-Integer Quadratic Programming (MIQP) Solvers such as <a href="https://github.com/jump-dev/Gurobi.jl">Gurobi</a> and <a href="https://github.com/jump-dev/CPLEX.jl">CPLEX</a>. These are not intended to be of regular use alongside <code>ToQUBO</code> since reformulation usually makes things harder for these folks. Yet, there are still cases where they may be suitable for tests on small instances.</p><h3 id="Custom-Error-Types"><a class="docs-heading-anchor" href="#Custom-Error-Types">Custom Error Types</a><a id="Custom-Error-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Error-Types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="ToQUBO.QUBOError" href="#ToQUBO.QUBOError"><code>ToQUBO.QUBOError</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">QUBOError(msg::Union{Nothing, String})</code></pre><p>This error indicates any failure during QUBO formulation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/psrenergy/ToQUBO.jl/blob/a4ecf840dd54eb5388274c8362aaf280385f1c9b/src/error.jl#L1-L5">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/">« Examples</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.15 on <span class="colophon-date" title="Thursday 24 March 2022 16:26">Thursday 24 March 2022</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
